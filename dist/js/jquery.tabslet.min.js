(function($,window,undefined){"use strict";$.fn.tabslet=function(options){var defaults={mouseevent:"click",activeclass:"tabs__item_active",attribute:"href",animation:false,autorotate:false,deeplinking:false,pauseonhover:true,delay:2e3,active:1,container:false,controls:{prev:".prev",next:".next"}};var options=$.extend(defaults,options);return this.each(function(){var $this=$(this),_cache_li=[],_cache_div=[];var _container=options.container?$(options.container):$this;var _tabs=_container.find("> div");_tabs.each(function(){_cache_div.push($(this).css("display"))});var elements=$this.find("> ul > li"),i=options.active-1;if(!$this.data("tabslet-init")){$this.data("tabslet-init",true);$this.opts=[];$.map(["mouseevent","activeclass","attribute","animation","autorotate","deeplinking","pauseonhover","delay","container"],function(t,e){$this.opts[t]=$this.data(t)||options[t]});$this.opts["active"]=$this.opts.deeplinking?deep_link():$this.data("active")||options.active;_tabs.removeClass("tabactive");if($this.opts.active){_tabs.eq($this.opts.active-1).addClass("tabactive");elements.eq($this.opts.active-1).addClass(options.activeclass)}var fn=eval(function(t,e){var s=e?elements.find("a["+$this.opts.attribute+'="'+e+'"]').parent():$(this);s.trigger("_before");elements.removeClass(options.activeclass);s.addClass(options.activeclass);_tabs.removeClass("tabactive");_tabs.addClass("tabdisabled");i=elements.index(s);var a=e||s.find("a").attr($this.opts.attribute);if($this.opts.deeplinking)location.hash=a;if($this.opts.animation){_container.find(a).animate({opacity:"show"},"slow",function(){s.trigger("_after")})}else{_container.find(a).addClass("tabactive");_container.find(a).removeClass("tabdisabled");s.trigger("_after")}return false});var init=eval("elements."+$this.opts.mouseevent+"(fn)");init;var t;var forward=function(){i=++i%elements.length;$this.opts.mouseevent=="hover"?elements.eq(i).trigger("mouseover"):elements.eq(i).click();if($this.opts.autorotate){clearTimeout(t);t=setTimeout(forward,$this.opts.delay);$this.mouseover(function(){if($this.opts.pauseonhover)clearTimeout(t)})}};if($this.opts.autorotate){t=setTimeout(forward,$this.opts.delay);$this.hover(function(){if($this.opts.pauseonhover)clearTimeout(t)},function(){t=setTimeout(forward,$this.opts.delay)});if($this.opts.pauseonhover)$this.on("mouseleave",function(){clearTimeout(t);t=setTimeout(forward,$this.opts.delay)})}function deep_link(){var t=[];elements.find("a").each(function(){t.push($(this).attr($this.opts.attribute))});var e=$.inArray(location.hash,t);if(e>-1){return e+1}else{return $this.data("active")||options.active}}var move=function(t){if(t=="forward")i=++i%elements.length;if(t=="backward")i=--i%elements.length;elements.eq(i).click()};$this.find(options.controls.next).click(function(){move("forward")});$this.find(options.controls.prev).click(function(){move("backward")});$this.on("show",function(t,e){fn(t,e)});$this.on("next",function(){move("forward")});$this.on("prev",function(){move("backward")});$this.on("destroy",function(){$(this).removeData().find("> ul li").each(function(t){$(this).removeClass(options.activeclass)});_tabs.each(function(t){$(this).removeAttr("style").css("display",_cache_div[t])})})}})};$(document).ready(function(){$('[data-toggle="tabslet"]').tabslet()})})(jQuery);